<h1 class="text-center">Dashboard FORD</h1>

<div class="container-fluid" *ngIf="veiculos$ | async as veiculos">
  <div class="row justify-content-around">
    <div class="card col-3">
      <div class="card-header w-100"><h5>Ve√≠culo</h5></div>
      <div class="card-body">
        <select
          class="form-select mt-3"
          type="number"
          [(ngModel)]="veiculoId"
          (ngModelChange)="enviaVeiculoId(veiculoId)"
        >
          <option *ngFor="let veiculo of veiculos" [ngValue]="veiculo.id">
            {{ veiculo.vehicle }}
          </option>
        </select>
      </div>
    </div>
    <div class="card col-3">
      <div class="card-header"><h5>Total de Vendas</h5></div>
      <h2
        class="text-primary ms-4 mt-3 mb-0"
        *ngIf="veiculoSelecionado; else elseBlock"
      >
        {{ veiculoSelecionado.volumetotal }}
      </h2>
      <p class="ms-4" *ngIf="veiculoSelecionado; else elseBlock">Unid.</p>
    </div>
    <div class="card col-3">
      <div class="card-header"><h5>Conectados</h5></div>
      <h2
        class="text-primary ms-4 mt-3 mb-0"
        *ngIf="veiculoSelecionado; else elseBlock"
      >
        {{ veiculoSelecionado.connected }}
      </h2>
      <p class="ms-4" *ngIf="veiculoSelecionado; else elseBlock">Unid.</p>
    </div>
    <div class="card col-3">
      <div class="card-header"><h5>Update Software</h5></div>
      <h2
        class="text-primary ms-4 mt-3 mb-0"
        *ngIf="veiculoSelecionado; else elseBlock"
      >
        {{ veiculoSelecionado.softwareUpdates }}
      </h2>
      <p class="ms-4" *ngIf="veiculoSelecionado; else elseBlock">Unid.</p>
    </div>
  </div>
</div>

<div class="container mt-2 mb-1">
  <div class="row justify-content-center">
    <img
      class="col-7"
      *ngIf="veiculoSelecionado; else elseBlock"
      src="assets/img/{{ veiculoSelecionado.vehicle }}.png"
      alt="Imagem do modelo escolhido"
    />
  </div>
</div>

<ng-template #elseBlock>
  <p></p>
</ng-template>

<app-cabecalho></app-cabecalho>
<app-tabela></app-tabela>
